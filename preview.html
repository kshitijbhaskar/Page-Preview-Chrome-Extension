<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      margin: 0;
      padding: 0;
    }
    .container {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      height: 100%;
      padding: 10px;
      background-color: white;
    }
    .close-button {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <button class="close-button">Close</button>
    <iframe id="preview-iframe" width="100%" height="100%"></iframe>
  </div>

  <script>
    const closeButton = document.querySelector(".close-button");
    closeButton.addEventListener("click", () => {
      chrome.windows.getCurrent((window) => {
        chrome.windows.remove(window.id);
      });
    });

    chrome.windows.getCurrent((window) => {
      chrome.windows.get(window.id, { populate: true }, (window) => {
        const linkUrl = window.tabs[0].url;
        const previewIframe = document.getElementById("preview-iframe");
        previewIframe.src = linkUrl;
      });
    });
  </script>
</body>
</html>
